# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ production

## üìã –ü—Ä–µ–¥–ø—Ä–æ–¥–∞–∫—à–Ω –∞—É–¥–∏—Ç –∑–∞–≤–µ—Ä—à–µ–Ω

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

#### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- –£–¥–∞–ª–µ–Ω–∞ —É—è–∑–≤–∏–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `react-quill` —Å XSS —É—è–∑–≤–∏–º–æ—Å—Ç—å—é
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä `suneditor-react`

#### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Backend**: Express.js + TypeScript + Prisma + MySQL
- **Frontend**: React + TypeScript + Vite + tRPC
- **–†–∞–∑–º–µ—Ä production build**: 3.8MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω)
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞**: 677MB (–≤–∫–ª—é—á–∞—è node_modules)

#### 3. –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

- **JWT —Ç–æ–∫–µ–Ω—ã**: ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π**: ‚úÖ bcrypt —Å —Å–æ–ª—å—é
- **Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: ‚úÖ –ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞
- **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: admin/user —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- **CORS**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production

#### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- **Helmet.js**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –±–∞–∑–æ–≤–æ–π –∑–∞—â–∏—Ç—ã headers
- **Rate limiting**: ‚ö†Ô∏è –ù–ï –ù–ê–°–¢–†–û–ï–ù (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å)
- **Environment variables**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **Admin registration key**: ‚úÖ –ó–∞—â–∏—â–µ–Ω —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º

#### 5. Production Build

- **Status**: ‚úÖ –£–°–ü–ï–®–ù–û
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ –º–æ–¥—É–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω—ã
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ä–∞–∑–º–µ—Ä–µ chunks (—Ä–µ—à–∞–µ—Ç—Å—è code-splitting)

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- **Node.js**: 16+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 18+)
- **RAM**: 2GB –º–∏–Ω–∏–º—É–º, 4GB —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- **HDD**: 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **MySQL**: 8.0+

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# Node.js & npm
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# MySQL Server
sudo apt install mysql-server -y
sudo mysql_secure_installation

# PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
sudo npm install -g pm2 pnpm

# Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
sudo apt install nginx -y
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL
sudo mysql -u root -p

-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE monastyr CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
CREATE USER 'monastyr_user'@'localhost' IDENTIFIED BY 'SECURE_PASSWORD_HERE';
GRANT ALL PRIVILEGES ON monastyr.* TO 'monastyr_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/
sudo git clone [URL_–í–ê–®–ï–ì–û_–†–ï–ü–û–ó–ò–¢–û–†–ò–Ø] monastyr
sudo chown -R $USER:$USER /var/www/monastyr
cd /var/www/monastyr

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ production .env
cp backend/.env.example backend/.env
```

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å backend/.env:

```bash
# Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
NODE_ENV=production
PORT=3000

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
DATABASE_URL="mysql://monastyr_user:SECURE_PASSWORD_HERE@localhost:3306/monastyr"

# JWT —Å–µ–∫—Ä–µ—Ç—ã (–ì–ï–ù–ï–†–ò–†–£–ô–¢–ï –ù–û–í–´–ï!)
JWT_SECRET="[–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨_–°–õ–£–ß–ê–ô–ù–£–Æ_–°–¢–†–û–ö–£_64_–°–ò–ú–í–û–õ–ê]"
JWT_EXPIRES_IN="7d"

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–ª—é—á (–ì–ï–ù–ï–†–ò–†–£–ô–¢–ï –ù–û–í–´–ô!)
ADMIN_REGISTRATION_KEY="[–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨_–°–õ–£–ß–ê–ô–ù–£–Æ_–°–¢–†–û–ö–£]"

# Uploads
UPLOAD_DIR="/var/www/monastyr/uploads"
MAX_FILE_SIZE=10485760

# Frontend URL –¥–ª—è CORS
FRONTEND_URL="https://yourdomain.com"
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤:

```bash
# JWT Secret
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# Admin Key
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

#### –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
cd backend
npx prisma migrate deploy
npx prisma generate
```

### 4. –°–±–æ—Ä–∫–∞ frontend

```bash
cd webapp

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é API URL –≤ –∫–æ–¥–µ –¥–ª—è production
# –í src/utils/apiClient.ts –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º —Ñ–∞–π–ª–µ
# –ò–∑–º–µ–Ω–∏—Ç—å API_BASE_URL –Ω–∞ –≤–∞—à production URL

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
pnpm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
ls -la dist/
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

```bash
sudo nano /etc/nginx/sites-available/monastyr
```

```nginx
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;

    # Redirect to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name yourdomain.com www.yourdomain.com;

    # SSL certificates (Let's Encrypt)
    ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;

    # SSL Configuration
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;

    # Frontend - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    location / {
        root /var/www/monastyr/webapp/dist;
        try_files $uri $uri/ /index.html;

        # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # tRPC endpoint
    location /trpc/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Uploads
    location /uploads/ {
        root /var/www/monastyr;
        expires 1y;
        add_header Cache-Control "public";
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ln -s /etc/nginx/sites-available/monastyr /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 6. SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
sudo apt install certbot python3-certbot-nginx -y

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo crontab -e
# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É:
# 0 12 * * * /usr/bin/certbot renew --quiet
```

### 7. –ó–∞–ø—É—Å–∫ —Å PM2

```bash
cd /var/www/monastyr/backend

# –°–æ–∑–¥–∞–Ω–∏–µ ecosystem.config.js
cat > ecosystem.config.js << EOF
module.exports = {
  apps: [{
    name: 'monastyr-backend',
    script: './dist/index.js',
    cwd: '/var/www/monastyr/backend',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    error_file: '/var/log/pm2/monastyr-error.log',
    out_file: '/var/log/pm2/monastyr-out.log',
    log_file: '/var/log/pm2/monastyr-combined.log',
    time: true
  }]
};
EOF

# –°–±–æ—Ä–∫–∞ backend
pnpm run build

# –ó–∞–ø—É—Å–∫
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

### 8. –§–∞–π—Ä–≤–æ–ª –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```bash
# UFW Firewall
sudo ufw enable
sudo ufw allow ssh
sudo ufw allow 'Nginx Full'
sudo ufw status

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo apt install unattended-upgrades -y
sudo dpkg-reconfigure -plow unattended-upgrades
```

---

## üîí –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. Rate Limiting (–¥–æ–±–∞–≤–∏—Ç—å –≤ backend)

```bash
cd backend
pnpm add express-rate-limit
```

–í `src/index.ts`:

```typescript
import rateLimit from 'express-rate-limit'

// Rate limiting
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 –º–∏–Ω—É—Ç
  max: 100, // –º–∞–∫—Å–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å IP
  message: '–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —ç—Ç–æ–≥–æ IP',
})
app.use('/api/', limiter)

// –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π –ª–∏–º–∏—Ç –¥–ª—è auth
const authLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 5,
  skipSuccessfulRequests: true,
})
app.use('/api/auth/login', authLimiter)
app.use('/api/auth/register', authLimiter)
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ logrotate
sudo nano /etc/logrotate.d/monastyr

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
/var/log/pm2/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        pm2 reloadLogs
    endscript
}
```

### 3. Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ backup
sudo nano /usr/local/bin/monastyr-backup.sh

#!/bin/bash
BACKUP_DIR="/var/backups/monastyr"
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR

# Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
mysqldump -u monastyr_user -p monastyr > $BACKUP_DIR/db_backup_$DATE.sql

# Backup uploads
tar -czf $BACKUP_DIR/uploads_backup_$DATE.tar.gz /var/www/monastyr/uploads

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö backup (>30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete

# Cron job (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)
# 0 2 * * * /usr/local/bin/monastyr-backup.sh
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] MySQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- [ ] Backend .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å production –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] –ù–æ–≤—ã–µ JWT_SECRET –∏ ADMIN_REGISTRATION_KEY —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Prisma –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Frontend —Å–æ–±—Ä–∞–Ω –¥–ª—è production
- [ ] API URLs –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ frontend –∫–æ–¥–µ
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] PM2 –∑–∞–ø—É—â–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Rate limiting –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] Backup —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –õ–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

---

## üéØ –ü–æ—Å–ª–µ—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ –ø–æ HTTPS
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
pm2 status
sudo systemctl status nginx
sudo systemctl status mysql

# –õ–æ–≥–∏
pm2 logs monastyr-backend
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

### 3. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
- –ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ backup'–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞/–ø–∞–º—è—Ç–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Uptime Robot)
2. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
3. –û–±—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ª–∏—Ü —Ä–∞–±–æ—Ç–µ —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é! ‚ú®**
