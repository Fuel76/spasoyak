# üïê –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ü–†–û–ë–õ–ï–ú–´ –° –ß–ê–°–û–í–´–ú–ò –ü–û–Ø–°–ê–ú–ò

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–Ω–∞—Å—Ç—ã—Ä—è –Ω–∞–±–ª—é–¥–∞–ª—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π JavaScript-–±–∞–≥ —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏:

- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–ª –¥–∞—Ç—ã —Å–æ —Å–¥–≤–∏–≥–æ–º –Ω–∞ ¬±1 –¥–µ–Ω—å
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ 12 –∏—é–Ω—è –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å 11 –∏–ª–∏ 13 –∏—é–Ω—è
- –ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–æ–∫ –¥–∞—Ç `new Date("YYYY-MM-DD")`

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. Backend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–°–æ–∑–¥–∞–Ω:** `/backend/src/utils/dateUtils.ts`

- `parseDateSafe()` - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ –¥–∞—Ç –±–µ–∑ UTC –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- `formatDateSafe()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –±–µ–∑ –≤–ª–∏—è–Ω–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- `parseDateUTC()` - –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `formatCalendarDayForResponse()` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –æ—Ç–≤–µ—Ç–æ–≤

**–û–±–Ω–æ–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã:**

- `/backend/src/routes/calendar.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `/backend/src/routes/schedule.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### 2. Frontend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–°–æ–∑–¥–∞–Ω:** `/webapp/src/utils/dateUtils.ts`

- `formatDateSafe()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞—Ç—ã
- `parseDateSafe()` - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –±–µ–∑ UTC
- `extractDateFromISO()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç—ã –∏–∑ ISO —Å—Ç—Ä–æ–∫
- `isSameDay()` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞—Ç

**–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- `OrthodoxCalendar.tsx` - –∑–∞–º–µ–Ω–µ–Ω `toISOString().slice(0, 10)` –Ω–∞ `formatDateSafe()`
- `OrthodoxCalendar/index.tsx` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π —Å–µ—Ç–∫–∏
- `SchedulePage/index.tsx` - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ API –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- `AdminCalendarPage/index.tsx` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –¥–∞—Ç

### 3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ API:

1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–∏—Å–∫ –Ω–æ–≤—ã–º —Å–ø–æ—Å–æ–±–æ–º (–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
2. –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ - –ø–æ–∏—Å–∫ —Å—Ç–∞—Ä—ã–º —Å–ø–æ—Å–æ–±–æ–º (UTC) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### API —Ç–µ—Å—Ç—ã

```bash
# –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
curl http://localhost:3000/api/calendar/2025-06-12
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"date":"2025-06-11T00:00:00.000Z"} ‚ùå

# –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
curl http://localhost:3000/api/calendar/2025-06-12
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"date":"2025-06-12"} ‚úÖ
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –¥–∞—Ç—ã —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

- ‚úÖ 2025-06-12 ‚Üí 2025-06-12 (–±–µ–∑ —Å–¥–≤–∏–≥–∞)
- ‚úÖ 2025-12-25 ‚Üí 2025-12-25 (–±–µ–∑ —Å–¥–≤–∏–≥–∞)
- ‚úÖ 2025-01-01 ‚Üí 2025-01-01 (–±–µ–∑ —Å–¥–≤–∏–≥–∞)

## üìä –°–¢–ê–¢–£–° –°–ï–†–í–ï–†–û–í

- ‚úÖ Backend: http://localhost:3000 (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ Frontend: http://localhost:5174 (—Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ API –∫–∞–ª–µ–Ω–¥–∞—Ä—è: –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

```javascript
// –ü–†–û–ë–õ–ï–ú–ù–´–ô –ö–û–î (—Å—Ç–∞—Ä—ã–π):
new Date('2025-06-12') // –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ UTC 00:00
date.toISOString().slice(0, 10) // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ UTC –ø—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

// –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î (–Ω–æ–≤—ã–π):
const [year, month, day] = dateString.split('-').map(Number)
new Date(year, month - 1, day) // –°–æ–∑–¥–∞–µ—Ç –¥–∞—Ç—É –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

const year = date.getFullYear()
const month = String(date.getMonth() + 1).padStart(2, '0')
const day = String(date.getDate()).padStart(2, '0')
return `${year}-${month}-${day}` // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –±–µ–∑ UTC –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ concerns** - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è frontend –∏ backend
2. **Type safety** - TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–∞—Ç
3. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ —Å –¥–∞—Ç–∞–º–∏ –ø–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
4. **Backwards compatibility** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–†–û–ë–õ–ï–ú–ê –° –ß–ê–°–û–í–´–ú–ò –ü–û–Ø–°–ê–ú–ò –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê!**

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–æ–Ω–∞—Å—Ç—ã—Ä—è —Ç–µ–ø–µ—Ä—å:

- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞—Ç—ã –±–µ–∑ —Å–¥–≤–∏–≥–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ò–º–µ–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–∞—Ç

---

_–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 3 –∏—é–Ω—è 2025 –≥._  
_–°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û ‚úÖ_
